<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Epoch TxSign</title>
    <script src="https://unpkg.com/algosdk@latest"></script>
    <script src="./buffer.js"></script>
    <script src="./myalgo.js"></script>
    <script src ="./scripts.js"></script>
</head>
<body>

    <div>
        <button id="connect">Connect</button>
    </div>

    <div>
        <button id="optIn">Opt Into NFT</button>
    </div>
   
    

    <script>
        window.addEventListener('load',async function(){
        const token = { 'X-API-Key':'ADRySlL0NK5trzqZGAE3q1xxIqlQdSfk1nbHxTNe'};
        const server = "https://testnet-algorand.api.purestake.io/ps2";
        const port = '';
        const client = new algosdk.Algodv2(token, server, port);
        let sender = "";
        let optInButton = document.getElementById("optIn");
        let connectButton = document.getElementById("connect");

        console.log(optInButton);
        optInButton.addEventListener('click',async function(){
       
            let addressToOptInto = await optInEpochNft("FNYZLBWJTCIMWKZCE4Q6JHQHLD3XHGVDZTD5YXRYVR4CDKZY2NHG7RA65I",16405423);
            console.log(addressToOptInto);
        });

        connectButton.addEventListener('click',async function(){
           let addresses = await  myalgoConnect.connect();
            sender = addresses[0];
            console.log(sender);
        })

        });
        
    </script>
</body>
</html>